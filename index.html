<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cloaker Game</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body onload="initGame()">
  <!-- Main Menu -->
  <div id="main-menu">
    <div style="font-size: 1.5em;">Cloaker Game</div>
    <button onclick="startGame('hider')">🧍 Play as Hider</button>
    <button onclick="startGame('seeker')" disabled>👁️ Coming Soon</button>
    <div style="margin-top: 10px; font-size: 0.9em; color: gray;">Single-player only for now.</div>
    <button id="musicToggle">🔊 Music ON</button>
  </div>

  <header>Cloaker Game</header>

  <div id="game-ui" style="display: none;">
    <div class="tool-bar" id="tool-bar"></div>

    <!-- Tool Menu Container -->
    <div class="tool-menu-container">
      <!-- Dropdown Tool Menu -->
      <div class="dropdown">
        <button class="dropbtn">🛠️ Tools</button>
        <div class="dropdown-content">
          <button onclick="useCloaking()"><span>🕶️</span> Cloaking</button>
          <button onclick="plantDecoyData()"><span>🧭</span> Plant Decoy</button>
          <button onclick="enterDarkWebMarket()"><span>🛒</span> Dark Web Market</button>
          <button onclick="openUpgradeMenu()"><span>🔧</span> Upgrade Tools</button>
        </div>
      </div>

      <!-- Pause Button -->
      <button id="pauseBtn" onclick="togglePause()">⏸️ Pause</button>
    </div>

    <div id="game-area">
      <div id="map-container"></div>
      <div id="inventory-panel">
        <h3>Inventory</h3>
        <div id="inventory"></div>
      </div>
    </div>

    <div id="log"></div>
    <div id="shop"></div>
  </div>

  <footer>
    Cloaker Game &copy; 2025 | Created with pure HTML, CSS, and JavaScript
  </footer>

  <!-- Modals -->
  <div id="winModal" class="modal">
    <div class="modal-content">
      🔓 Level Complete!
      <br>
      <span id="coinsEarned">+10 coins earned</span>
      <br><br>
      <button onclick="closeModals()">Continue</button>
    </div>
  </div>

  <div id="loseModal" class="modal">
    <div class="modal-content">
      🚨 GAME OVER
      <br><br>
      You were caught by <span id="caughtByEnemy">...</span> using:
      <br><br>
      <strong id="detectionMethod">...</strong>
      <br><br>
      <button onclick="newGame()">🔄 New Game</button>
      <button onclick="returnToMainMenu()">🏠 Main Menu</button>
      <button onclick="buyLifeInGameOver()">❤️ Buy Life (30🪙)</button>
    </div>
  </div>

  <!-- Upgrade Modal -->
  <div id="upgradeModal" class="modal">
    <div class="modal-content">
      <div style="font-size:1.3em; margin-bottom:10px;">🔧 Upgrade Tools</div>
      <div id="upgrade-list"></div>
      <br>
      <button onclick="closeUpgradeMenu()">Close</button>
    </div>
  </div>

  <!-- Pause Modal -->
  <div id="pauseModal" class="modal">
    <div class="modal-content">
      <div style="font-size:1.3em; margin-bottom:10px;">⏸️ Game Paused</div>
      <button onclick="togglePause()">Resume Game</button>
      <button onclick="resetGame()">Restart Level</button>
      <button onclick="returnToMainMenu()">Main Menu</button>
    </div>
  </div>

  <!-- Audio Elements -->
  <audio id="moveSound" src="sounds/move.wav" preload="auto"></audio>
  <audio id="coinSound" src="sounds/coin.wav" preload="auto"></audio>
  <audio id="winSound" src="sounds/win.wav" preload="auto"></audio>
  <audio id="loseSound" src="sounds/lose.wav" preload="auto"></audio>
  <audio id="powerupSound" src="sounds/powerup.wav" preload="auto"></audio>
  <audio id="teleportSound" src="sounds/teleport.wav" preload="auto"></audio>
  <audio id="clickSound" src="sounds/click.wav" preload="auto"></audio>
  <audio id="cloakSound" src="sounds/cloak.wav" preload="auto"></audio>
  <audio id="decoySound" src="sounds/decoy.wav" preload="auto"></audio>
  <audio id="footstep1Sound" src="sounds/footstep1.wav" preload="auto"></audio>
  <audio id="footstep2Sound" src="sounds/footstep2.wav" preload="auto"></audio>
  <audio id="backgroundMusic" src="sounds/background.mp3" preload="auto"></audio>

  <script src="game.js"></script>
</body>
</html>
